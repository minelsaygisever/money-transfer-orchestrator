spring:
  r2dbc:
    url: r2dbc:h2:mem:///testdb
    username: sa
    password:
    pool:
      enabled: false

  sql:
    init:
      mode: never

  flyway:
    enabled: false

  cloud:
    function:
      definition: onAccountEvent

    stream:
      kafka:
        binder:
          auto-create-topics: true
          configuration:
            auto.offset.reset: earliest

      bindings:
        onAccountEvent-in-0:
          destination: account-events
          group: transfer-saga-test-group

        transfer-debit-out-0:
          destination: transfer-debit-events

        transfer-credit-out-0:
          destination: transfer-credit-events

        transfer-refund-out-0:
          destination: transfer-refund-events

logging:
  level:
    org.springframework.cloud.stream: DEBUG
    com.minelsaygisever.transfer: DEBUG

transfer:
  outbox:
    polling-interval: 3600000
    initial-delay: 3600000
  reconciliation:
    rate: 10h
    timeout-threshold: 5m
  cleanup:
    batch-size: 5
    retention-period: 2d
    cron: "-"